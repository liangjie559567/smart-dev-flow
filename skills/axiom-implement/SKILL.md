---
name: axiom-implement
description: Axiom Phase 3 å®ç° - TDD + å››å±‚å®¡æŸ¥ + Phase 5 è°ƒè¯• + Phase 6.5 æ–‡æ¡£ + çŸ¥è¯†åº“è´¯ç©¿
---

# axiom-implement

## å­ä»£ç†å¼ºåˆ¶è°ƒç”¨é“å¾‹

```
ä¸» Claude ç¦æ­¢ï¼šç›´æ¥ç¼–å†™ä»£ç ã€ç›´æ¥å®¡æŸ¥ä»£ç ã€ç›´æ¥åˆ†æ bug
æ¯ä¸ªé˜¶æ®µçš„æ ¸å¿ƒå·¥ä½œå¿…é¡»é€šè¿‡ Task() è°ƒç”¨å­ä»£ç†å®Œæˆã€‚
```

## æµç¨‹

1. **å‰ç½®æ£€æŸ¥ï¼šæµ‹è¯•æ¡†æ¶å¯ç”¨æ€§ï¼ˆH-1 ç¡¬é—¨æ§ï¼‰**ï¼š
   ```bash
   # æ£€æŸ¥ package.json æ˜¯å¦å­˜åœ¨ä¸”åŒ…å«æµ‹è¯•å‘½ä»¤
   cat package.json | grep -E '"test"|"vitest"|"jest"'
   # å°è¯•è¿è¡Œæµ‹è¯•å‘½ä»¤ï¼ˆdry-runï¼‰
   npm test -- --passWithNoTests 2>&1 | head -5
   ```
   - è‹¥ `package.json` ä¸å­˜åœ¨ â†’ **å¼ºåˆ¶æš‚åœ**ï¼Œè¦æ±‚å…ˆæ‰§è¡Œé¡¹ç›®åˆå§‹åŒ–ï¼ˆ`npx create-next-app` ç­‰ï¼‰ï¼Œä¸å¾—ç»§ç»­
   - è‹¥æµ‹è¯•å‘½ä»¤ä¸å¯ç”¨ â†’ **å¼ºåˆ¶æš‚åœ**ï¼Œè¦æ±‚å®‰è£…æµ‹è¯•æ¡†æ¶ï¼Œä¸å¾—é™é»˜è·³è¿‡

2. **è¯»å–é˜¶æ®µä¸Šä¸‹æ–‡ï¼ˆå¿…é¡»ï¼‰**ï¼š
   ```
   phase_context_read phase=all
   â†’ è·å– phase1.interfacesï¼ˆæ¥å£å¥‘çº¦ï¼‰ã€phase2.tasksï¼ˆä»»åŠ¡æ¸…å•ï¼‰ã€kb_context
   ```
3. è¯»å– `.agent/memory/manifest.md` ä¸­çš„ä»»åŠ¡æ¸…å•ï¼ˆä¸ phase2.tasks äº’ä¸ºè¡¥å……ï¼‰
4. **çŸ¥è¯†åº“æŸ¥è¯¢ï¼ˆå¿…é¡»ï¼‰**ï¼š
   ```
   axiom_get_knowledge query="TDD {æ¨¡å—åç§°} æµ‹è¯•æ¨¡å¼" limit=5
   axiom_search_by_tag tags=["TDD", "æµ‹è¯•", "{æŠ€æœ¯æ ˆ}"] limit=3
   â†’ å°†æŸ¥è¯¢ç»“æœä¿å­˜ä¸º kb_context
   ```
   **MCP ä¸å¯ç”¨é™çº§**ï¼šè‹¥è°ƒç”¨å¤±è´¥ï¼Œè¯»å– `.agent/memory/evolution/knowledge_base.md` æå–ç›¸å…³æ¡ç›®ä½œä¸º kb_contextï¼Œç»§ç»­æ‰§è¡Œï¼Œä¸å¾—é˜»å¡æµç¨‹ã€‚
5. æ›´æ–° `active_context.md`ï¼š
   ```
   task_status: IMPLEMENTING
   current_phase: Phase 3 - Implementing
   current_task: T{N} - {æè¿°}
   completed_tasks:
   fail_count: 0
   last_updated: {timestamp}
   ```
4. æŒ‰ä»¥ä¸‹è§„åˆ™ä¸ºæ¯ä¸ªå­ä»»åŠ¡æ´¾å‘ agentï¼ˆæ— ä¾èµ–çš„å­ä»»åŠ¡å¹¶è¡Œæ‰§è¡Œï¼‰ï¼š

   **æ‰§è¡Œå‰**ï¼šè°ƒç”¨ `test-driven-development` æŠ€èƒ½ï¼Œå¼ºåˆ¶å…ˆå†™å¤±è´¥æµ‹è¯•å†å®ç°ï¼ˆRedâ†’Greenâ†’Refactorï¼‰ã€‚

   - é¢„ä¼° > 2å°æ—¶ æˆ– æ¶‰åŠå¤šæ–‡ä»¶æ¶æ„æ”¹åŠ¨ï¼š
     ```
     Task(
       subagent_type="general-purpose",
       prompt="ä½ æ˜¯æ·±åº¦æ‰§è¡Œè€…ï¼ˆDeep Executorï¼‰ã€‚æŒ‰ TDD Redâ†’Greenâ†’Refactor å®ç°ä»»åŠ¡ã€‚
       ã€ä»»åŠ¡ã€‘{T_ID}ï¼š{æè¿°}
       ã€phase1æ¥å£å¥‘çº¦ã€‘{phase1.interfaces}
       ã€çŸ¥è¯†åº“ç»éªŒã€‘{kb_context}
       å‚è€ƒï¼š.agent/memory/manifest.md
       âš ï¸ åˆå§‹åŒ–ç±»ä»»åŠ¡å¼ºåˆ¶è§„åˆ™ï¼ˆC-1ï¼‰ï¼šè‹¥ä»»åŠ¡æè¿°å«ã€Œåˆå§‹åŒ–ã€ã€Œåˆ›å»ºé¡¹ç›®ã€ã€Œsetupã€ã€Œscaffoldã€ç­‰å…³é”®è¯ï¼Œ
         å¿…é¡»å…ˆæ‰§è¡Œ shell å‘½ä»¤ï¼ˆå¦‚ npx create-next-appã€npm initã€pip install ç­‰ï¼‰ï¼Œ
         å†å†™ä»£ç æ–‡ä»¶ã€‚ç¦æ­¢è·³è¿‡ shell å‘½ä»¤ç›´æ¥å†™æ–‡ä»¶ã€‚
       è¦æ±‚ï¼šå…ˆæ¢ç´¢ä»£ç åº“ç†è§£ç°æœ‰æ¨¡å¼ï¼Œå…ˆå†™å¤±è´¥æµ‹è¯•ï¼Œå†å†™æœ€å°å®ç°ï¼Œå†é‡æ„
       è¾“å‡ºï¼šå˜æ›´æ–‡ä»¶åˆ—è¡¨ + æµ‹è¯•ç»“æœ + æ„å»ºç»“æœ"
     )
     ```
   - å¦åˆ™ï¼š
     ```
     Task(
       subagent_type="general-purpose",
       prompt="ä½ æ˜¯æ‰§è¡Œè€…ï¼ˆExecutorï¼‰ã€‚æŒ‰ TDD Redâ†’Greenâ†’Refactor å®ç°ä»»åŠ¡ã€‚
       ã€ä»»åŠ¡ã€‘{T_ID}ï¼š{æè¿°}
       ã€phase1æ¥å£å¥‘çº¦ã€‘{phase1.interfaces}
       ã€çŸ¥è¯†åº“ç»éªŒã€‘{kb_context}
       å‚è€ƒï¼š.agent/memory/manifest.md
       âš ï¸ åˆå§‹åŒ–ç±»ä»»åŠ¡å¼ºåˆ¶è§„åˆ™ï¼ˆC-1ï¼‰ï¼šè‹¥ä»»åŠ¡æè¿°å«ã€Œåˆå§‹åŒ–ã€ã€Œåˆ›å»ºé¡¹ç›®ã€ã€Œsetupã€ã€Œscaffoldã€ç­‰å…³é”®è¯ï¼Œ
         å¿…é¡»å…ˆæ‰§è¡Œ shell å‘½ä»¤ï¼ˆå¦‚ npx create-next-appã€npm initã€pip install ç­‰ï¼‰ï¼Œ
         å†å†™ä»£ç æ–‡ä»¶ã€‚ç¦æ­¢è·³è¿‡ shell å‘½ä»¤ç›´æ¥å†™æ–‡ä»¶ã€‚
       è¦æ±‚ï¼šæœ€å°åŒ–æ”¹åŠ¨ï¼Œå…ˆå†™å¤±è´¥æµ‹è¯•ï¼Œå†å†™å®ç°
       è¾“å‡ºï¼šå˜æ›´æ–‡ä»¶åˆ—è¡¨ + æµ‹è¯•ç»“æœ"
     )
     ```

   **æ¯ä¸ª executor å­ä»£ç†å®Œæˆåï¼Œä¸» Claude æ‰§è¡Œå››å±‚æ£€æŸ¥ï¼ˆH-3ï¼šå¼ºåˆ¶å¹¶è¡Œæ‰§è¡Œï¼Œç¦æ­¢ä¸²è¡Œï¼‰**ï¼š

   **å››å±‚å¹¶è¡Œå®¡æŸ¥ï¼ˆåŒæ—¶è°ƒç”¨ï¼Œæ”¶é›†æ‰€æœ‰é—®é¢˜åç»Ÿä¸€ä¿®å¤ï¼‰**ï¼š
   ```
   # å¹¶è¡Œè°ƒç”¨å››ä¸ªå®¡æŸ¥å­ä»£ç†
   Task(è´¨é‡æ£€æŸ¥, model="sonnet",
     prompt="ä½ æ˜¯ä»£ç è´¨é‡å®¡æŸ¥ä¸“å®¶ï¼ˆQuality Reviewerï¼‰ã€‚
     ã€å®ç°ä»£ç ã€‘{executorè¾“å‡ºçš„ä»£ç }
     ã€phase1æ¥å£å¥‘çº¦ã€‘{phase1.interfaces}
     å®¡æŸ¥é€»è¾‘ç¼ºé™·ã€å¯ç»´æŠ¤æ€§ã€TDDè¦†ç›–å®Œæ•´æ€§ï¼Œè¾“å‡º Critical/High/Medium/Low åˆ†çº§é—®é¢˜åˆ—è¡¨")

   Task(å®‰å…¨æ£€æŸ¥, model="sonnet",
     prompt="ä½ æ˜¯å®‰å…¨å®¡æŸ¥ä¸“å®¶ï¼ˆSecurity Reviewerï¼‰ã€‚
     ã€å®ç°ä»£ç ã€‘{executorè¾“å‡ºçš„ä»£ç }
     å®¡æŸ¥ OWASP Top 10ã€æ³¨å…¥æ”»å‡»ã€è®¤è¯/é‰´æƒã€æ•æ„Ÿæ•°æ®æš´éœ²ã€ä¿¡ä»»è¾¹ç•Œï¼Œè¾“å‡ºåˆ†çº§é—®é¢˜åˆ—è¡¨")

   Task(æ¥å£å¥‘çº¦æ£€æŸ¥, model="sonnet",
     prompt="ä½ æ˜¯ API å®¡æŸ¥ä¸“å®¶ï¼ˆAPI Reviewerï¼‰ã€‚
     ã€å®ç°ä»£ç ã€‘{executorè¾“å‡ºçš„ä»£ç }
     ã€åŸå§‹æ¥å£å¥‘çº¦ã€‘{phase1.interfaces}
     éªŒè¯å®ç°æ˜¯å¦ä¸æ¥å£å¥‘çº¦ä¸€è‡´ï¼Œè¾“å‡ºä¸ä¸€è‡´é—®é¢˜åˆ—è¡¨")

   Task(é£æ ¼æ£€æŸ¥, model="haiku",
     prompt="ä½ æ˜¯ä»£ç é£æ ¼å®¡æŸ¥ä¸“å®¶ï¼ˆStyle Reviewerï¼‰ã€‚
     ã€å®ç°ä»£ç ã€‘{executorè¾“å‡ºçš„ä»£ç }
     å®¡æŸ¥å‘½åã€æ ¼å¼ã€æƒ¯ç”¨æ³•ï¼Œè¾“å‡ºé—®é¢˜åˆ—è¡¨")
   ```
   â†’ ç­‰å¾…å››ä¸ªå­ä»£ç†å…¨éƒ¨è¿”å› â†’ æ±‡æ€»æ‰€æœ‰é—®é¢˜
   â†’ è‹¥å­˜åœ¨ä»»æ„ Critical/High â†’ å¸¦å®Œæ•´é—®é¢˜åˆ—è¡¨ç»Ÿä¸€é‡æ–°è°ƒç”¨ executorï¼ˆç¦æ­¢åˆ†æ‰¹ä¿®å¤ï¼‰â†’ **executor å®Œæˆåå¿…é¡»é‡æ–°å¹¶è¡Œè°ƒç”¨å››å±‚å®¡æŸ¥**ï¼Œå¾ªç¯ç›´åˆ°å››å±‚å®¡æŸ¥å…¨éƒ¨æ—  Critical/High ä¸ºæ­¢
   â†’ å››å±‚å®¡æŸ¥å…¨éƒ¨é€šè¿‡ï¼ˆæ—  Critical/Highï¼‰â†’ è¿›å…¥ç¬¬äº”å±‚

   **ç¬¬äº”å±‚ï¼šLSP + AST æ£€æŸ¥ï¼ˆç±»å‹å®‰å…¨ä¸ç»“æ„åˆè§„ï¼‰**
   ```
   # LSP è¯Šæ–­ï¼ˆTypeScript/é™æ€ç±»å‹è¯­è¨€å¿…é¡»ï¼‰
   lsp_diagnostics(path="{å˜æ›´æ–‡ä»¶ç›®å½•}")
   â†’ å­˜åœ¨ Error çº§åˆ«è¯Šæ–­ â†’ å¸¦è¯Šæ–­ä¿¡æ¯é‡æ–°è°ƒç”¨ executor â†’ executor å®Œæˆåé‡æ–°æ‰§è¡Œç¬¬äº”å±‚æ£€æŸ¥ï¼Œå¾ªç¯ç›´åˆ°æ—  Error

   # AST ç»“æ„æœç´¢ï¼ˆéªŒè¯æ¨¡å¼åˆè§„ï¼‰
   ast_grep_search(pattern="{å…³é”®æ¥å£æˆ–ç±»å}", path="{å˜æ›´æ–‡ä»¶ç›®å½•}")
   â†’ å®ç°ä¸æ¥å£å¥‘çº¦ä¸ç¬¦ â†’ å¸¦é—®é¢˜é‡æ–°è°ƒç”¨ executor â†’ executor å®Œæˆåé‡æ–°æ‰§è¡Œç¬¬äº”å±‚æ£€æŸ¥
   ```

   **äº”å±‚æ£€æŸ¥å…¨éƒ¨é€šè¿‡å**ï¼Œä¸» Claude ç›´æ¥è¿è¡Œæµ‹è¯•å‘½ä»¤ï¼ˆBash å·¥å…·ï¼‰æ”¶é›†çœŸå®è¾“å‡ºï¼š
   - æµ‹è¯•å…¨éƒ¨é€šè¿‡ â†’ ç»§ç»­
   - æµ‹è¯•å¤±è´¥ â†’ å°†å¤±è´¥è¾“å‡ºæ³¨å…¥ä¸‹ä¸€æ¬¡ executor è°ƒç”¨ â†’ executor å®Œæˆå**é‡æ–°ä»å››å±‚å®¡æŸ¥å¼€å§‹**ï¼Œå¾ªç¯ç›´åˆ°æµ‹è¯•é€šè¿‡
   - æ— æµ‹è¯•è¾“å‡ºè¯æ® â†’ ä¸å¾—å£°æ˜å­ä»»åŠ¡å®Œæˆ
4. æ¯ä¸ªå­ä»»åŠ¡å®Œæˆåæ´¾å‘ verifierï¼š
   ```
   Task(
     subagent_type="general-purpose",
     prompt="ä½ æ˜¯éªŒè¯è€…ï¼ˆVerifierï¼‰ã€‚ä½ çš„ä»»åŠ¡æ˜¯ç”¨è¯æ®éªŒè¯å®ç°æ˜¯å¦å®Œæˆï¼Œæ‹’ç»æ— è¯æ®çš„å®Œæˆå£°æ˜ã€‚\n\néªŒè¯ä»»åŠ¡ {T_ID} çš„å®Œæˆæƒ…å†µï¼š\n- è¿è¡Œæµ‹è¯•å¹¶å±•ç¤ºå®Œæ•´è¾“å‡º\n- æ£€æŸ¥ lsp_diagnosticsï¼ˆTypeScript/ç±»å‹é”™è¯¯ï¼‰\n- éªŒè¯æ„å»ºé€šè¿‡\n- å¯¹ç…§éªŒæ”¶æ ‡å‡†é€é¡¹ç¡®è®¤\n\nè¾“å‡ºï¼šPASS æˆ– FAIL + å…·ä½“è¯æ®ï¼ˆæµ‹è¯•è¾“å‡ºã€æ„å»ºæ—¥å¿—ï¼‰"
   )
   ```
5. **å­ä»»åŠ¡æˆåŠŸ**ï¼š
   - `fail_count` é‡ç½®ä¸º 0
   - **ç«‹å³æ›´æ–° manifest.mdï¼ˆH-4 å¼ºåˆ¶ï¼‰**ï¼šå°†å¯¹åº”ä»»åŠ¡çš„ `[ ]` æ”¹ä¸º `[x]`
   - æ›´æ–° `completed_tasks`ï¼Œè¾“å‡ºè¿›åº¦ï¼š
     ```
     âœ… T{N} å®Œæˆ | {bar} {pct}% ({done}/{total})
     ```
   - ç»§ç»­ä¸‹ä¸€ä¸ªå­ä»»åŠ¡
6. **å­ä»»åŠ¡å¤±è´¥æˆ–å®¡æŸ¥å‘ç° Critical é—®é¢˜ï¼ˆPhase 5 ç³»ç»Ÿè°ƒè¯•ï¼ŒH-2ï¼‰**ï¼š
   - è§¦å‘æ¡ä»¶ï¼šæµ‹è¯•å¤±è´¥ **æˆ–** å››å±‚å®¡æŸ¥å‘ç° Critical/High é—®é¢˜éœ€ä¿®å¤ï¼ˆæ¯æ¬¡è§¦å‘å‡æ˜¾å¼è®°å½•åˆ° operations-log.mdï¼‰
   - `fail_count += 1`
   - è‹¥ `fail_count >= 3`ï¼šæ›´æ–° `task_status: BLOCKED`ï¼Œ`blocked_reason: è¿ç»­å¤±è´¥{N}æ¬¡ï¼Œéœ€è¦äººå·¥ä»‹å…¥`ï¼Œç»ˆæ­¢æµç¨‹
   - å¦åˆ™è§¦å‘ Phase 5 è°ƒè¯•æµç¨‹ï¼š
     1. **çŸ¥è¯†åº“æŸ¥è¯¢ï¼ˆå¿…é¡»ï¼‰**ï¼š
        ```
        axiom_get_knowledge query="{å…·ä½“é”™è¯¯ä¿¡æ¯}" limit=10
        axiom_search_by_tag tags=["è°ƒè¯•", "é”™è¯¯ä¿®å¤", "{é”™è¯¯ç±»å‹}"] limit=5
        â†’ æ›´æ–° kb_context
        ```
        **MCP ä¸å¯ç”¨é™çº§**ï¼šè‹¥è°ƒç”¨å¤±è´¥ï¼Œè¯»å– `.agent/memory/evolution/knowledge_base.md` æå–ç›¸å…³æ¡ç›®ä½œä¸º kb_contextï¼Œç»§ç»­æ‰§è¡Œã€‚
     2. è°ƒç”¨ `systematic-debugging` æŠ€èƒ½è¿›è¡Œ 4 é˜¶æ®µæ ¹å› åˆ†æ
     3. æ´¾å‘ debugger agent æ‰§è¡Œä¿®å¤ï¼ˆå¿…é¡»ï¼Œç¦æ­¢ä¸» Claude ç›´æ¥åˆ†æï¼‰ï¼š
        ```
        Task(
          subagent_type="general-purpose",
          model="sonnet",
          prompt="ä½ æ˜¯è°ƒè¯•ä¸“å®¶ï¼ˆDebuggerï¼‰ã€‚æ ¹å› åˆ†æï¼ˆ5-Whyï¼‰ï¼Œæä¾›æœ€å°å¤ç°ç”¨ä¾‹å’Œä¿®å¤æ–¹æ¡ˆã€‚
          ã€é”™è¯¯ä¿¡æ¯ã€‘{error}
          ã€å¤±è´¥æµ‹è¯•ã€‘{test}
          ã€ç›¸å…³ä»£ç ã€‘{code}
          ã€çŸ¥è¯†åº“å†å²æ–¹æ¡ˆã€‘{kb_context}
          è¾“å‡ºï¼šæ ¹æœ¬åŸå› ï¼ˆå…·ä½“åˆ°æ–‡ä»¶å’Œè¡Œå·ï¼‰ã€ä¿®å¤å»ºè®®ï¼ˆå…·ä½“æ­¥éª¤ï¼‰ã€é¢„é˜²æªæ–½"
        )
        ```
     4. debugger å®Œæˆåï¼Œå¯¹ä¿®å¤ä»£ç æ‰§è¡Œå››å±‚æ£€æŸ¥ï¼ˆåŒæ­¥éª¤4ï¼‰
     5. å››å±‚æ£€æŸ¥é€šè¿‡åè¿è¡Œæµ‹è¯•éªŒè¯
     6. **çŸ¥è¯†æ²‰æ·€ï¼ˆå¿…é¡»ï¼‰**ï¼š
        ```
        axiom_harvest source_type=error_fix
          title="è°ƒè¯•ä¿®å¤: {é”™è¯¯ç±»å‹}"
          summary="{æ ¹å› } | {ä¿®å¤æ–¹æ¡ˆ} | {é¢„é˜²æªæ–½} | {å¤ç°æ­¥éª¤}"
        ```
     7. é‡è¯•å½“å‰å­ä»»åŠ¡
7. å…¨éƒ¨å®Œæˆåï¼š
   - **M-2 ç¯å¢ƒå˜é‡æ£€æŸ¥**ï¼šè‹¥é¡¹ç›®å«ç¯å¢ƒå˜é‡ï¼ˆDATABASE_URLã€SECRET ç­‰ï¼‰ï¼Œverifier æ£€æŸ¥ `.env.example` æ˜¯å¦å­˜åœ¨ï¼›ä¸å­˜åœ¨åˆ™æ´¾å‘ executor è¡¥å……ï¼Œå†ç»§ç»­
   - **å®Œæˆå‰éªŒè¯**ï¼šè°ƒç”¨ `verification-before-completion` æŠ€èƒ½ï¼Œç¡®è®¤æ‰€æœ‰æµ‹è¯•é€šè¿‡ã€æ„å»ºæˆåŠŸï¼Œå†è¿›å…¥ä»£ç å®¡æŸ¥ã€‚
   - **è§„æ ¼åˆè§„å®¡æŸ¥**ï¼ˆå‚è€ƒ `subagent-driven-development/spec-reviewer-prompt.md`ï¼‰ï¼š
     ```
     Task(
       subagent_type="general-purpose",
       prompt="ä½ æ­£åœ¨å®¡æŸ¥å®ç°æ˜¯å¦ç¬¦åˆè§„æ ¼ã€‚\n\nè¢«è¦æ±‚çš„å†…å®¹ï¼š{manifest.md ä¸­çš„å®Œæ•´ä»»åŠ¡åˆ—è¡¨}\n\nå®ç°è€…å£°ç§°æ„å»ºçš„å†…å®¹ï¼š{å„å­ä»»åŠ¡å®ŒæˆæŠ¥å‘Š}\n\nå…³é”®ï¼šä¸è¦ç›¸ä¿¡æ±‡æŠ¥ï¼Œå¿…é¡»ç‹¬ç«‹è¯»å–ä»£ç éªŒè¯ã€‚\n\næ£€æŸ¥ï¼š\n1. æ‰€æœ‰éªŒæ”¶æ ‡å‡†æ˜¯å¦éƒ½å·²å®ç°ï¼Ÿ\n2. æ˜¯å¦æœ‰è¶…å‡ºè§„æ ¼çš„é¢å¤–å®ç°ï¼Ÿ\n3. æ˜¯å¦æœ‰è¯¯è§£éœ€æ±‚çš„æƒ…å†µï¼Ÿ\n\nè¾“å‡ºï¼šâœ… è§„æ ¼åˆè§„ / âŒ é—®é¢˜åˆ—è¡¨ï¼ˆç¼ºå¤±/å¤šä½™ï¼Œå«æ–‡ä»¶:è¡Œå·ï¼‰"
     )
     ```
     è§„æ ¼å®¡æŸ¥å¤±è´¥ â†’ æ´¾å‘ executor ä¿®å¤ â†’ **é‡æ–°è°ƒç”¨è§„æ ¼åˆè§„å®¡æŸ¥**ï¼Œå¾ªç¯ç›´åˆ°è¾“å‡º âœ… è§„æ ¼åˆè§„
   - **ä»£ç è´¨é‡å®¡æŸ¥**ï¼ˆä»…åœ¨è§„æ ¼åˆè§„å®¡æŸ¥é€šè¿‡åï¼Œå‚è€ƒ `subagent-driven-development/code-quality-reviewer-prompt.md`ï¼‰ï¼š
     ```
     Task(
       subagent_type="general-purpose",
       prompt="ä½ æ˜¯é«˜çº§ä»£ç å®¡æŸ¥å‘˜ï¼ˆSenior Code Reviewerï¼‰ã€‚å¯¹æœ¬æ¬¡å®ç°è¿›è¡Œå…¨é¢ä»£ç å®¡æŸ¥ã€‚\n\nå®¡æŸ¥èŒƒå›´ï¼šæœ¬æ¬¡æ‰€æœ‰å˜æ›´æ–‡ä»¶\n\næ£€æŸ¥ç»´åº¦ï¼š\n- è®¡åˆ’å¯¹é½ï¼šå®ç°æ˜¯å¦ç¬¦åˆ manifest.md æ„å›¾ï¼Ÿ\n- ä»£ç è´¨é‡ï¼šå‘½åæ¸…æ™°ã€é€»è¾‘æ­£ç¡®ã€éµå¾ªç°æœ‰æ¨¡å¼\n- æµ‹è¯•å……åˆ†æ€§ï¼šæµ‹è¯•æ˜¯å¦çœŸæ­£éªŒè¯è¡Œä¸ºï¼Ÿ\n\né—®é¢˜åˆ†çº§ï¼šCriticalï¼ˆå¿…é¡»ä¿®å¤ï¼‰/ Importantï¼ˆåº”ä¿®å¤ï¼‰/ Minorï¼ˆå»ºè®®ï¼‰\n\nè¾“å‡ºï¼šAPPROVE æˆ– REQUEST CHANGES + å…·ä½“é—®é¢˜åˆ—è¡¨ï¼ˆå«æ–‡ä»¶:è¡Œå·ï¼‰"
     )
     ```
   - **å®‰å…¨å®¡æŸ¥**ï¼ˆä¸ä»£ç è´¨é‡å®¡æŸ¥å¹¶è¡Œï¼‰ï¼š
     ```
     Task(
       subagent_type="general-purpose",
       prompt="ä½ æ˜¯å®‰å…¨å®¡æŸ¥ä¸“å®¶ï¼ˆSecurity Reviewerï¼‰ã€‚å®¡æŸ¥æœ¬æ¬¡å˜æ›´çš„å®‰å…¨é£é™©ã€‚\n\nå®¡æŸ¥èŒƒå›´ï¼šæœ¬æ¬¡æ‰€æœ‰å˜æ›´æ–‡ä»¶\n\næ£€æŸ¥ç»´åº¦ï¼šOWASP Top 10ã€æ³¨å…¥æ”»å‡»ã€è®¤è¯/é‰´æƒã€æ•æ„Ÿæ•°æ®æš´éœ²ã€ä¿¡ä»»è¾¹ç•Œ\n\né—®é¢˜åˆ†çº§ï¼šCriticalï¼ˆå¿…é¡»ä¿®å¤ï¼‰/ Highï¼ˆåº”ä¿®å¤ï¼‰/ Medium / Low\n\nè¾“å‡ºï¼šPASS æˆ– FAIL + å…·ä½“é—®é¢˜åˆ—è¡¨ï¼ˆå«æ–‡ä»¶:è¡Œå·ï¼‰"
     )
     ```
   - **æ¶æ„åˆè§„å®¡æŸ¥**ï¼ˆä»…å½“å˜æ›´æ¶‰åŠ 3+ æ¨¡å—æˆ–æ–°å¢æ¥å£æ—¶ï¼‰ï¼š
     ```
     Task(
       subagent_type="general-purpose",
       model="opus",
       prompt="ä½ æ˜¯æ¶æ„å®¡æŸ¥ä¸“å®¶ï¼ˆArchitect Reviewerï¼‰ã€‚å®¡æŸ¥æœ¬æ¬¡å˜æ›´æ˜¯å¦ç¬¦åˆç³»ç»Ÿæ¶æ„çº¦æŸã€‚\n\nå®¡æŸ¥èŒƒå›´ï¼šæœ¬æ¬¡æ‰€æœ‰å˜æ›´æ–‡ä»¶\n\næ£€æŸ¥ç»´åº¦ï¼šæ¨¡å—è¾¹ç•Œã€æ¥å£å¥‘çº¦ä¸€è‡´æ€§ã€å¾ªç¯ä¾èµ–ã€æ¶æ„å†³ç­–åˆè§„\n\nè¾“å‡ºï¼šAPPROVE æˆ– REJECT + å…·ä½“é—®é¢˜åˆ—è¡¨"
     )
     ```
     ä»£ç è´¨é‡/å®‰å…¨/æ¶æ„ä»»ä¸€å‘ç° Critical/High é—®é¢˜ â†’ æ´¾å‘ executor ä¿®å¤ â†’ **é‡æ–°å¹¶è¡Œè°ƒç”¨ä»£ç è´¨é‡/å®‰å…¨/æ¶æ„å®¡æŸ¥**ï¼Œå¾ªç¯ç›´åˆ°å…¨éƒ¨è¾“å‡º APPROVE/PASS

   - **Phase 6.5 æ–‡æ¡£ç¼–å†™ä¸å®¡æŸ¥**ï¼ˆä¸ä»£ç å®¡æŸ¥å®Œæˆåæ‰§è¡Œï¼‰ï¼š

     **æ­¥éª¤1ï¼šè°ƒç”¨ writer å­ä»£ç†ç”Ÿæˆæ–‡æ¡£ï¼ˆå¿…é¡»ï¼Œç¦æ­¢ä¸» Claude ç›´æ¥ç¼–å†™ï¼‰**
     ```
     Task(
       subagent_type="general-purpose",
       model="haiku",
       prompt="ä½ æ˜¯æŠ€æœ¯æ–‡æ¡£æ’°å†™ä¸“å®¶ï¼ˆWriterï¼‰ã€‚
       ã€phase1æ¥å£å¥‘çº¦ã€‘{phase1.interfaces}
       ã€æœ¬æ¬¡å˜æ›´æ–‡ä»¶åˆ—è¡¨ã€‘{å˜æ›´æ–‡ä»¶åˆ—è¡¨}
       ã€phase0éªŒæ”¶æ ‡å‡†ã€‘{phase0.acceptance_criteria}
       ç¼–å†™å®Œæ•´æ–‡æ¡£ï¼šAPIæ–‡æ¡£ã€READMEæ›´æ–°ã€ä½¿ç”¨ç¤ºä¾‹"
     )
     ```

     **æ­¥éª¤2ï¼šè°ƒç”¨ quality-reviewer å®¡æŸ¥æ–‡æ¡£ï¼ˆå¿…é¡»ï¼‰**
     ```
     Task(
       subagent_type="general-purpose",
       model="sonnet",
       prompt="ä½ æ˜¯ä»£ç è´¨é‡å®¡æŸ¥ä¸“å®¶ï¼ˆQuality Reviewerï¼‰ã€‚
       ã€æ–‡æ¡£å†…å®¹ã€‘{writerè¾“å‡ºçš„æ–‡æ¡£}
       ã€æ¥å£å¥‘çº¦ã€‘{phase1.interfaces}
       å®¡æŸ¥æ–‡æ¡£è´¨é‡ï¼šå‡†ç¡®æ€§ã€å®Œæ•´æ€§ã€å¯è¯»æ€§ã€ç¤ºä¾‹æ­£ç¡®æ€§ï¼Œè¾“å‡ºé—®é¢˜åˆ—è¡¨"
     )
     ```

     **æ­¥éª¤3ï¼šä¸» Claude äº¤äº’æ£€æŸ¥**
     - è‹¥ reviewer å‘ç°é—®é¢˜ â†’ å¸¦é—®é¢˜åˆ—è¡¨é‡æ–°è°ƒç”¨ writer â†’ **writer å®Œæˆåé‡æ–°è°ƒç”¨ quality-reviewer å®¡æŸ¥**ï¼Œå¾ªç¯ç›´åˆ°å®¡æŸ¥æ— é—®é¢˜
     - å…¨éƒ¨é€šè¿‡ â†’ è®°å½•æ–‡æ¡£è·¯å¾„

   - **çŸ¥è¯†æ²‰æ·€ï¼ˆå¿…é¡»ï¼‰**ï¼š
     ```
     axiom_harvest source_type=code_change
       title="TDDå®ç°: {åŠŸèƒ½åç§°}"
       summary="{æµ‹è¯•æ•°é‡} | {è¦†ç›–ç‡} | {é‡åˆ°çš„é™·é˜±} | {å¯å¤ç”¨æµ‹è¯•æ¨¡å¼}"
     ```

   - æ›´æ–° `active_context.md`ï¼ˆé¢„å†™å…¥ REFLECTINGï¼ŒPhase 7 éªŒè¯é€šè¿‡åç”Ÿæ•ˆï¼‰ï¼š
     ```
     task_status: REFLECTING
     current_phase: Phase 3 - Done
     completed_tasks: T1,T2,T3
     fail_count: 0
     last_updated: {timestamp}
     ```
   - ç»§ç»­æ‰§è¡Œ Phase 7 å®ŒæˆéªŒè¯ï¼ˆä¸è‡ªåŠ¨è§¦å‘ axiom-reflectï¼Œç”± Phase 7 æœ«å°¾ AskUserQuestion ç”¨æˆ·ç¡®è®¤åå†³å®šï¼‰

## Phase 7ï¼šå®ŒæˆéªŒè¯ï¼ˆå…¨éƒ¨ä»»åŠ¡å®Œæˆåæ‰§è¡Œï¼‰

**æ­¥éª¤1ï¼šè°ƒç”¨ verifier å­ä»£ç†ï¼ˆå¿…é¡»ï¼‰**
```
Task(
  subagent_type="general-purpose",
  model="sonnet",
  prompt="ä½ æ˜¯éªŒè¯ä¸“å®¶ï¼ˆVerifierï¼‰ã€‚æ‰§è¡Œå®Œæ•´éªŒè¯ï¼Œé€æ¡æ ¸å¯¹éªŒæ”¶æ ‡å‡†ã€‚
  ã€phase0éªŒæ”¶æ ‡å‡†ã€‘{phase0.acceptance_criteria}
  è¿è¡Œï¼šæµ‹è¯•/æ„å»º/lintï¼Œæ”¶é›†è¾“å‡ºä½œä¸ºè¯æ®ï¼Œè¾“å‡ºé€æ¡æ ¸å¯¹ç»“æœ
  è¾“å‡ºï¼šPASS æˆ– FAIL + å…·ä½“è¯æ®ï¼ˆæµ‹è¯•è¾“å‡ºã€æ„å»ºæ—¥å¿—ï¼‰"
)
```

**æ­¥éª¤2ï¼šä¸» Claude è¿è¡ŒéªŒè¯å‘½ä»¤ï¼ˆå¼ºåˆ¶ï¼Œå¿…é¡»æ”¶é›†çœŸå®è¾“å‡ºï¼‰**

è°ƒç”¨ `verification-before-completion` æŠ€èƒ½ï¼Œç„¶åä¸» Claude ç›´æ¥è¿è¡Œï¼š
```bash
# æ ¹æ®é¡¹ç›®æŠ€æœ¯æ ˆé€‰æ‹©å¯¹åº”å‘½ä»¤
npm test / pytest / vitest
npm run build
npm run lint
```

- å…¨éƒ¨é€šè¿‡ â†’ ç»§ç»­
- ä»»ä¸€å¤±è´¥ â†’ å°†å¤±è´¥è¾“å‡ºæ³¨å…¥ executor ä¿®å¤ï¼Œé‡æ–°éªŒè¯
- æ— å‘½ä»¤è¾“å‡ºè¯æ® â†’ ä¸å¾—å£°æ˜å®Œæˆ

**ç¡¬é—¨æ§**ï¼š
- [ ] æµ‹è¯•ï¼šå…¨éƒ¨é€šè¿‡ï¼ˆé™„è¾“å‡ºï¼‰
- [ ] æ„å»ºï¼šæ— é”™è¯¯
- [ ] éªŒæ”¶æ ‡å‡†ï¼šé€æ¡æ ¸å¯¹é€šè¿‡

**é˜¶æ®µå®Œæˆæ€»ç»“ï¼ˆå¿…é¡»è¾“å‡ºï¼‰**ï¼š
```
âœ… Phase 7 å®ŒæˆéªŒè¯é€šè¿‡
- æµ‹è¯•ï¼šå…¨éƒ¨é€šè¿‡ï¼ˆ{N} ä¸ªï¼‰
- æ„å»ºï¼šæˆåŠŸ
- éªŒæ”¶æ ‡å‡†ï¼š{N}/{N} æ¡é€šè¿‡
```

**ç”¨æˆ·ç¡®è®¤ï¼ˆå¿…é¡»ï¼‰**ï¼š
```
AskUserQuestion({
  question: "Phase 7 å®ŒæˆéªŒè¯å·²é€šè¿‡ï¼Œå¦‚ä½•ç»§ç»­ï¼Ÿ",
  header: "Phase 7 â†’ Phase 8",
  options: [
    { label: "âœ… è¿›å…¥ Phase 8 åˆå¹¶åˆ†æ”¯", description: "éªŒè¯é€šè¿‡ï¼Œåˆå¹¶åˆ°ä¸»åˆ†æ”¯" },
    { label: "â­ï¸ è·³è¿‡ Phase 8ï¼Œç›´æ¥è¿›å…¥ Phase 9", description: "æœªåˆ›å»ºç‹¬ç«‹åˆ†æ”¯ï¼Œæ— éœ€åˆå¹¶" },
    { label: "ğŸ”„ è¿”å·¥ Phase 7", description: "éªŒè¯æœ‰é—®é¢˜ï¼Œé‡æ–°ä¿®å¤" }
  ]
})
```

## Team æµæ°´çº¿æ¨¡å¼

å½“ `4-implementing.md` è·¯ç”±åˆ° `execution_mode: team` æ—¶è§¦å‘ï¼š

```
# 1. åˆ›å»ºå›¢é˜Ÿ
TeamCreate(team_name="impl-{timestamp}")

# 2. ä¸ºæ¯ä¸ªå­ä»»åŠ¡åˆ›å»º Taskï¼ˆå¹¶è¡Œæ— ä¾èµ– / ä¸²è¡Œæœ‰ä¾èµ–ï¼‰
TaskCreate(subject="T{N}: {æè¿°}", description="{éªŒæ”¶æ ‡å‡†}")
...

# 3. æ´¾å‘ executor agentsï¼ˆæ— ä¾èµ–ä»»åŠ¡å¹¶è¡Œï¼‰
Task(subagent_type="general-purpose", team_name="impl-{timestamp}",
  prompt="ä½ æ˜¯æ‰§è¡Œè€…ï¼ˆExecutorï¼‰ã€‚è®¤é¢†å¹¶å®Œæˆä»»åŠ¡ T{N}ã€‚
  ã€æ¥å£å¥‘çº¦ã€‘{phase1.interfaces}
  ã€çŸ¥è¯†åº“ç»éªŒã€‘{kb_context}
  å®Œæˆåæ›´æ–° TaskUpdate(taskId, status=completed)")

# 4. ç›‘æ§è¿›åº¦
TaskList() â†’ æ£€æŸ¥æ‰€æœ‰ Task çŠ¶æ€
â†’ å…¨éƒ¨ completed â†’ è¿›å…¥ team-verify é˜¶æ®µ
â†’ æœ‰ failed â†’ è¿›å…¥ team-fix å¾ªç¯

# 5. team-verifyï¼šå¹¶è¡Œå®¡æŸ¥
Task(subagent_type="general-purpose", prompt="ä½ æ˜¯éªŒè¯è€…ï¼ˆVerifierï¼‰ã€‚è¿è¡Œæµ‹è¯•+æ„å»ºï¼Œè¾“å‡º PASS/FAIL + è¯æ®")
Task(subagent_type="general-purpose", prompt="ä½ æ˜¯å®‰å…¨å®¡æŸ¥ä¸“å®¶ï¼ˆSecurity Reviewerï¼‰ã€‚å®¡æŸ¥å˜æ›´æ–‡ä»¶ï¼Œè¾“å‡º PASS/FAIL")

# 6. team-fix å¾ªç¯ï¼ˆæœ€å¤š 3 æ¬¡ï¼‰
â†’ verify FAIL â†’ TaskCreate(subject="fix: {é—®é¢˜}") â†’ æ´¾å‘ executor ä¿®å¤ â†’ é‡æ–° verify
â†’ fix_count >= 3 â†’ task_status: BLOCKED

# 7. å®ŒæˆååŒæ­¥ Axiom çŠ¶æ€
Write active_context.md: task_status=REFLECTING
TeamDelete(team_name="impl-{timestamp}")
```

**ä¸æ ‡å‡†æ¨¡å¼çš„å·®å¼‚**ï¼šTeam æ¨¡å¼ä¸‹äº”å±‚æ£€æŸ¥ç”± team-verify é˜¶æ®µçš„ verifier/reviewer agents æ‰¿æ‹…ï¼Œè€Œéä¸» Claude é€å±‚è°ƒç”¨ã€‚

## é™çº§æ¨¡å¼

ç”± `dev-flow` BLOCKED çŠ¶æ€å‡ºå£Bè§¦å‘ï¼Œä¼ å…¥å‚æ•° `--degraded`ï¼š

- è·³è¿‡å½“å‰é˜»å¡çš„å­ä»»åŠ¡ï¼Œæ ‡è®°ä¸º `SKIPPED`
- ç»§ç»­æ‰§è¡Œåç»­æ— ä¾èµ–çš„å­ä»»åŠ¡
- å®Œæˆååœ¨æŠ¥å‘Šä¸­åˆ—å‡ºæ‰€æœ‰ SKIPPED ä»»åŠ¡ï¼Œæç¤ºäººå·¥è¡¥å…¨
