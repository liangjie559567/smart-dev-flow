# UX评审报告：axiom-status 任务进度需求

**评审日期**：2026-02-21  
**评审员角色**：UX研究员  
**PRD标题**：axiom-status 任务进度从 manifest.md 读取

---

## 📊 综合评分：56/100

**评分维度**：
- 需求清晰度：60/100
- 验收标准完整性：55/100
- 可用性设计：50/100
- 交互设计：45/100
- 技术可行性：70/100

---

## 🔴 关键意见（3条）

### 1. **信息源冲突导致用户困惑** ⚠️ 高优先级

**问题**：
- 现状：系统同时维护两个进度数据源（active_context.md 字段 vs manifest.md checkbox）
- PRD要求：切换到 manifest.md，但没有说明迁移策略
- 用户困惑：开发者看到两个不同的进度值时，不知道相信哪个

**缺失内容**：
- 没有迁移指南（何时切换？旧数据如何处理？）
- 没有用户反馈机制（是否应该在日志中提示"已切换到manifest.md"？）
- AC-4说"不再影响进度"，但没有说明如何处理现存的 completed_tasks 字段

**建议**：
- 补充"迁移期间的行为"说明（如：优先读manifest.md，fallback到active_context.md）
- 补充"用户通知"策略（首次切换时是否输出提示信息？）

---

### 2. **降级处理不完整，边界情况未覆盖** ⚠️ 中优先级

**问题**：
- AC-3 只处理"manifest.md不存在"的情况
- 缺失处理：
  - manifest.md 存在但无checkbox行 → 应显示 0/0 还是 —/— ？
  - manifest.md 存在但格式错误 → 是否应该warn用户？
  - active_context.md frontmatter 中 manifest_path 为空 → 如何fallback？

**验收标准问题**：
- AC-3 说"不抛异常"，但没有定义"异常"的范围
- 没有说明进度条在降级时的显示逻辑（—/— 时百分比显示什么？）

**建议**：
- 补充完整的降级决策树：
  ```
  manifest.md 存在 + 有checkbox → 使用checkbox统计
  manifest.md 存在 + 无checkbox → 显示 0/0（或—/—？）
  manifest.md 不存在 → 显示 —/—
  manifest_path 为空 → 尝试默认路径 .agent/memory/manifest.md
  ```
- 补充"错误处理"说明（格式错误时的行为）

---

### 3. **验收标准与实际数据格式不匹配** ⚠️ 高优先级

**问题**：
- AC-1/AC-2 要求统计"- [ ]"和"- [x]"行（markdown checkbox格式）
- 但实际 manifest.md 是**表格格式**（见文件内容），没有checkbox
- 这导致实现与需求的格式不一致

**具体矛盾**：
```markdown
# 实际 manifest.md 格式（表格）
| ID | 描述 | 优先级 | 依赖 | 预估复杂度 |
|----|------|--------|------|-----------| 
| T1 | ... | P0 | - | 简单 |
- [ ] T1: readFile ...  ← 这里才是checkbox

# AC-1/AC-2 期望的格式（checkbox）
- [ ] 任务1
- [x] 任务2
```

**建议**：
- 澄清：manifest.md 中checkbox 的具体位置和格式
- 或修改AC-1/AC-2 的统计逻辑（如果是表格格式，应该统计表格行而非checkbox）
- 补充示例：给出"正确的manifest.md格式"和"对应的进度统计结果"

---

## 📋 其他可用性缺陷

### 4. 用户反馈与可发现性不足
- 当manifest.md不存在时显示"—/—"，但用户不知道原因
- 建议：在stderr或日志中输出"manifest.md未找到，使用降级显示"

### 5 验收标准的可测试性不足
- AC-5"百分比与checkbox统计一致"没有定义精度（四舍五入？截断？）
- 建议：补充测试用例（如：3/5任务完成 → 60%）

### 6 用户故事与AC的映射不完整
- 用户故事强调"快速"和"准确"，但AC都是技术细节
- 建议：补充性能指标（响应时间<Xms）和准确性定义

---

## ✅ 优点

1. **降级处理思路正确**：AC-3 的"不存在时显示—/—"是好的可用性设计
2. **技术约束明确**：明确指出"仅改第31-37行"便于实现评估
3. **用户故事清晰**：开发者需求表述明确

---

## 🎯 建议行动

**必须修复（阻塞实现）**：
- [ ] 澄清 manifest.md 的实际格式和checkbox位置
- [ ] 补充完整的降级决策树
- [ ] 补充迁移策略说明

**应该改进（提升质量）**：
- [ ] 补充用户反馈机制（日志提示）
- [ ] 补充测试用例和精度定义
- [ ] 补充性能指标要求

---

## 📝 决策建议

**当前评分 56/100 → 建议"退回修改"**

理由：
1. 信息源冲突未解决，可能导致用户困惑
2. 数据格式与验收标准不匹配，实现存在歧义
3. 降级处理不完整，边界情况未覆盖

**修改后预期评分**：80-85/100（补充上述3个关键意见后）
